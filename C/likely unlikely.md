```c
#ifndef likely
#define likely(x)   __builtin_expect(!!(x), 1)
#define unlikely(x)   __builtin_expect(!!(x), 0)
#endif
```

这段代码片段定义了两个宏函数：`likely()`和`unlikely()`。这些宏函数通常用于编写高效的代码，以提高条件判断的预测性能。

这些宏函数使用了编译器内置的`__builtin_expect()`函数，该函数用于提示编译器条件表达式的预期结果。`__builtin_expect()`函数接受两个参数：表达式`x`和预期结果`y`。如果`y`为真（非零），则表示表达式`x`的预期结果为真；如果`y`为假（零），则表示表达式`x`的预期结果为假。

宏函数`likely(x)`的作用是提示编译器表达式`x`的预期结果为真。这可以帮助编译器进行优化，使得在条件为真的情况下的代码路径更有可能被执行，从而提高代码的执行效率。

宏函数`unlikely(x)`的作用与`likely(x)`相反，它提示编译器表达式`x`的预期结果为假。这可以帮助编译器进行优化，使得在条件为假的情况下的代码路径更有可能被执行，从而提高代码的执行效率。

这种使用方式主要适用于一些频繁执行的条件判断，通过提示编译器优化代码执行路径，可以减少分支预测错误，提高程序的性能。