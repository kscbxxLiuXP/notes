# static和inline关键字

`static inline` 是 C 语言中的两个关键字，用于定义函数或变量。它们有不同的作用：

## static

> static关键字总结来说就是两个作用：**改变生命周期和作用域**。

static修饰变量：

- 改变变量的生命周期，静态变量的生命周期与程序的生命周期相同，会一直存在直到程序结束
  - 正常来说，创建的局部变量会存在于栈上，随着函数的调用和切换存在和消失
  - 静态变量在内存的“静态”区，不能够显示的释放，随着程序的结束而释放

- 限定变量的作用域

- 全局变量

static修饰函数：

- 限定函数的作用域

static关键字的用处有两个：

- 限定

- **静态变量或函数**
  - 静态函数或变量在程序生命周期内只被初始化一次，并且在整个程序运行期间都存在。
  - 静态函数仅在声明它的源文件中可见，不能被其他源文件使用。

静态变量和非静态

## inline

- **内联函数**
  - 内联函数的作用是在调用处直接展开函数代码，而不是通过函数调用的方式进行执行。
  - 内联函数可以提高程序执行效率，因为避免了函数调用的开销，但也可能增加代码大小。
  - `inline` 关键字建议编译器将函数内联展开，但并不强制。编译器可以选择不内联，尤其对于较大的函数或特定情况下。

将 `static` 和 `inline` 结合使用，可以实现以下效果：
- `static inline` 函数将具有静态函数的特性，只在当前源文件中可见。
- `inline` 关键字告诉编译器可以选择内联展开该函数。

在实践中，`static inline` 通常用于定义小巧的函数，这些函数在多个文件中使用，并且适合被内联展开以提高性能。同时，`static` 关键字确保这些函数只在定义它们的源文件中可见，避免了在整个程序中被多次定义。